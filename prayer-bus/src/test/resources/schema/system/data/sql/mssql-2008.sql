-- SQL Server 2008 R2初始化脚本
-- 模型定义表：SYS_MODEL
DECLARE @TableCounter BIGINT;
BEGIN
SET @TableCounter = (SELECT COUNT(name) FROM SYSOBJECTS WHERE ID = OBJECT_ID(N'SYS_MODEL') AND OBJECTPROPERTY(ID, 'IsTable') = 1)
IF @TableCounter > 0 
DROP TABLE SYS_MODEL;
IF @TableCounter <= 0 
CREATE TABLE SYS_MODEL( 
	NAME VARCHAR(256) NOT NULL UNIQUE, 		-- 模型名称 
	ROOT_FOLDER VARCHAR(256) NOT NULL,		-- 模型的根目录
	FILE_DATA VARCHAR(256),					-- CSV数据文件名称
	FILE_SCHEMA VARCHAR(256) NOT NULL, 		-- JSON定义文件名称
	FILE_MAPPING VARCHAR(256) NOT NULL, 		-- Mapping文件名称
	IN_USE BIT NOT NULL, 						-- 是否正在使用
	INIT_ORDER INT NOT NULL,					-- 初始化顺序
	INIT_SUB_ORDER INT NOT NULL, 				-- 初始化子顺序
	PRIMARY KEY(NAME)
);
END